/**
 * Tencent is pleased to support the open source community by making CloudBaseFramework - 云原生一体化部署工具 available.
 *
 * Copyright (C) 2020 THL A29 Limited, a Tencent company.  All rights reserved.
 *
 * Please refer to license text included with this package for license details.
 */
import Context from '../context';
import Plugin from '../plugin';
import PluginServiceApi from '../plugin-service-api';
interface PluginData {
    id: string;
    name: string;
    version: string;
    scope: string;
    inputs: any;
    pluginInstance?: Plugin;
    api?: PluginServiceApi;
}
/**
 * 插件管理器
 *
 * @description 管理插件的生命周期，为插件注入 api 和参数
 */
export default class PluginManager {
    context: Context;
    plugins: PluginData[];
    pluginRegistry: string;
    pluginInstallPromise: Promise<boolean>;
    constructor(context: Context);
    /**
     * 初始化检测
     *
     * @param id
     */
    init(id?: string): Promise<any[]>;
    /**
     * 构建
     *
     * @param id
     */
    build(id?: string): Promise<any[]>;
    /**
     * 编译
     *
     * @param id
     */
    compile(id?: string): Promise<any[]>;
    /**
     * 部署
     *
     * @param id
     */
    deploy(id?: string): Promise<any[]>;
    /**
     * 执行本地命令
     *
     * @param id
     */
    run(id?: string, runCommandKey?: string): Promise<any[]>;
    /**
     * 调用插件钩子
     * @param id
     */
    private callPluginHook;
    /**
     * 解析插件
     * @param config
     */
    private resolvePlugins;
    /**
     * 加载插件代码
     *
     * @param pluginData
     */
    private loadPlugin;
    /**
     * 筛选插件
     * @param id
     */
    private pickPlugins;
    /**
     * @param packageName
     */
    private installPackage;
    /**
     * 初始化插件仓库
     */
    private initRegistry;
    private installPlugins;
}
export {};
//# sourceMappingURL=index.d.ts.map